<template>
  <div class="index">
    <div class="wrap">
      <div class="content">
        <swiper :swiperOption="swiperOption" />
        <div class="index-content-laptop mt">
          <div class="index-content-laptop-item laptop-item1">
            <router-link to="/">
              <div class="index-content-laptop-item-img">
                <img src="@/assets/images/index/index11.png" alt="" />
              </div>
              <div class="index-content-laptop-item-txt">
                <h4>Razer Blade Pro 17</h4>
                <ul>
                  <li>Intel Core i7-10875H</li>
                  <li>Windows 10 Home</li>
                  <li>17.3" 360Hz Full HD</li>
                  <li>GeForce RTX 3060</li>
                  <li>16GB RAM, 512GB SSD</li>
                </ul>
              </div>
            </router-link>
          </div>
          <div class="index-content-laptop-item laptop-item2">
            <router-link to="/">
              <div class="index-content-laptop-item-img">
                <img src="@/assets/images/index/index11.png" alt="" />
              </div>
              <div class="index-content-laptop-item-txt">
                <h4>Razer Blade Pro 17</h4>
                <ul>
                  <li>Intel Core i7-10875H</li>
                  <li>Windows 10 Home</li>
                  <li>17.3" 360Hz Full HD</li>
                  <li>GeForce RTX 3060</li>
                  <li>16GB RAM, 512GB SSD</li>
                </ul>
              </div>
            </router-link>
          </div>
          <div class="index-content-laptop-item laptop-item3">
            <router-link to="/">
              <div class="index-content-laptop-item-img">
                <img src="@/assets/images/index/index11.png" alt="" />
              </div>
              <div class="index-content-laptop-item-txt">
                <h4>Razer Blade Pro 17</h4>
                <ul>
                  <li>Intel Core i7-10875H</li>
                  <li>Windows 10 Home</li>
                  <li>17.3" 360Hz Full HD</li>
                  <li>GeForce RTX 3060</li>
                  <li>16GB RAM, 512GB SSD</li>
                </ul>
              </div>
            </router-link>
          </div>
        </div>
        <div class="index-content-mouse mt">
          <div class="index-content-mouse-item mouse-item1">
            <div class="index-content-mouse-item-img">
              <img src="@/assets/images/index/images/mouse1.png" alt="" />
            </div>
            <div class="index-content-mouse-item-txt">
              <h4>Razer Mamba Wireless</h4>
              <ul>
                <li>Extended battery life of up to 50 hours</li>
                <li>Razer 5G Advanced Optical Sensor with true 16,000 DPI</li>
                <li>Durable up to 50 million clicks</li>
              </ul>
            </div>
          </div>
          <div class="index-content-mouse-item mouse-item2">
            <div class="index-content-mouse-item-img">
              <img src="@/assets/images/index/images/mouse1.png" alt="" />
            </div>
            <div class="index-content-mouse-item-txt">
              <h4>Razer Mamba Wireless</h4>
              <ul>
                <li>Extended battery life of up to 50 hours</li>
                <li>Razer 5G Advanced Optical Sensor with true 16,000 DPI</li>
                <li>Durable up to 50 million clicks</li>
              </ul>
            </div>
          </div>
          <div class="index-content-mouse-item mouse-item3">
            <div class="index-content-mouse-item-img">
              <img src="@/assets/images/index/images/mouse1.png" alt="" />
            </div>
            <div class="index-content-mouse-item-txt">
              <h4>Razer Mamba Wireless</h4>
              <ul>
                <li>Extended battery life of up to 50 hours</li>
                <li>Razer 5G Advanced Optical Sensor with true 16,000 DPI</li>
                <li>Durable up to 50 million clicks</li>
              </ul>
            </div>
          </div>
          <div class="index-content-mouse-item mouse-item4">
            <div class="index-content-mouse-item-img">
              <img src="@/assets/images/index/images/mouse1.png" alt="" />
            </div>
            <div class="index-content-mouse-item-txt">
              <h4>Razer Mamba Wireless</h4>
              <ul>
                <li>Extended battery life of up to 50 hours</li>
                <li>Razer 5G Advanced Optical Sensor with true 16,000 DPI</li>
                <li>Durable up to 50 million clicks</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="index-content-keyboard mt">
          <div class="index-content-keyboard-item keyboard-item1">
            <div class="index-content-keyboard-item-img">
              <img src="@/assets/images/index/images/keyboard1.png" alt="" />
            </div>
            <div class="index-content-keyboard-item-txt">
              <h4>Razer Pro Type - US</h4>
            </div>
          </div>
          <div class="index-content-keyboard-item keyboard-item2">
            <div class="index-content-keyboard-item-img">
              <img src="@/assets/images/index/images/keyboard1.png" alt="" />
            </div>
            <div class="index-content-keyboard-item-txt">
              <h4>Razer Pro Type - US</h4>
            </div>
          </div>
          <div class="index-content-keyboard-item keyboard-item3">
            <div class="index-content-keyboard-item-img">
              <img src="@/assets/images/index/images/keyboard1.png" alt="" />
            </div>
            <div class="index-content-mouse-item-txt">
              <h4>Razer Pro Type - US</h4>
            </div>
          </div>
        </div>
        <div class="index-content-audio mt">
          <div class="index-content-audio-item audio-item1">
            <div class="index-content-audio-item-img">
              <img src="@/assets/images/index/images/audio.png" alt="" />
            </div>
            <div class="index-content-audio-item-txt">
              <h4>Razer Kraken Kitty - Black</h4>
            </div>
          </div>
          <div class="index-content-audio-item audio-item2">
            <div class="index-content-audio-item-img">
              <img src="@/assets/images/index/images/audio.png" alt="" />
            </div>
            <div class="index-content-audio-item-txt">
              <h4>Razer Kraken Kitty - Black</h4>
            </div>
          </div>
          <div class="index-content-audio-item audio-item3">
            <div class="index-content-audio-item-img">
              <img src="@/assets/images/index/images/audio.png" alt="" />
            </div>
            <div class="index-content-audio-item-txt">
              <h4>Razer Kraken Kitty - Black</h4>
            </div>
          </div>
        </div>
        <div class="index-content-progressbar mt">
          <div class="index-content-progressbar-circle">
            <h4>市佔率</h4>
            <circles :progress="circleOptions" />
          </div>
          <div class="index-content-progressbar-right">
            <div class="index-content-progressbar-right-item">
              <p>使用壽命</p>
              <div class="progress progressbar-item1">
                <div
                  class="progress-bar progress-bar-striped progress-bar-animated"
                  role="progressbar"
                  aria-valuenow="25"
                  aria-valuemin="0"
                  aria-valuemax="100"
                >
                  80%
                </div>
              </div>
            </div>
            <div class="index-content-progressbar-right-item">
              <p>耐用度</p>
              <div class="progress progressbar-item2">
                <div
                  class="progress-bar progress-bar-striped progress-bar-animated"
                  role="progressbar"
                  aria-valuenow="25"
                  aria-valuemin="0"
                  aria-valuemax="100"
                >
                  90%
                </div>
              </div>
            </div>
            <div class="index-content-progressbar-right-item">
              <p>上手度</p>
              <div class="progress progressbar-item3">
                <div
                  class="progress-bar progress-bar-striped progress-bar-animated"
                  role="progressbar"
                  aria-valuenow="25"
                  aria-valuemin="0"
                  aria-valuemax="100"
                >
                  97%
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
import { TimelineMax, TweenMax } from 'gsap'
import ScrollMagic from 'scrollmagic'
import swiper from '@/components/SwiperCarousel'
import circles from '@/components/progressCircle'
export default {
  name: 'index',
  components: {
    swiper,
    circles
  },
  data () {
    return {
      swiperOption: {
        swiperData: [
          {
            img: 'https://picsum.photos/2000?random=1'
          },
          {
            img: 'https://picsum.photos/2000?random=2'
          },
          {
            img: 'https://picsum.photos/2000?random=3'
          },
          {
            img: 'https://picsum.photos/2000?random=4'
          },
          {
            img: 'https://picsum.photos/2000?random=5'
          },
          {
            img: 'https://picsum.photos/2000?random=6'
          },
          {
            img: 'https://picsum.photos/2000?random=7'
          }
        ],
        swiperOptions: {
          spaceBetween: 30,
          centeredSlides: true,
          mousewheel: true,
          loop: true,
          autoplay: {
            delay: 2500,
            disableOnInteraction: false
          },
          // pagination dom
          pagination: {
            el: '.swiper-pagination',
            clickable: true
          },
          // navigation dom
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev'
          },
          // response setting
          breakpoints: {
            1024: {
              slidesPerView: 3,
              spaceBetween: 50
            }
          }
        },
        swiperWrap: 'swiperWrap',
        swiperClass: 'swiperClassName',
        // navigation show
        navigation: {
          prev: true,
          next: true
        },
        // pagination show
        pagination: true
      },
      circleOptions: {
        percent: 90
      },
      num: {
        num: 90
      }
    }
  },
  mounted () {
    const controller = new ScrollMagic.Controller()
    TweenMax.fromTo('.laptop-item1', 3, { autoAlpha: 0, x: '300' }, { autoAlpha: 1, x: '0', ease: 'Expo.easeInOut' })
    TweenMax.fromTo('.laptop-item2', 3, { autoAlpha: 0, y: '-300' }, { autoAlpha: 1, y: '0', ease: 'Expo.easeInOut' })
    TweenMax.fromTo('.laptop-item3', 3, { autoAlpha: 0, x: '-300' }, { autoAlpha: 1, x: '0', ease: 'Expo.easeInOut' })
    // .addIndicators()
    // .addTo(controller)
    const t2 = new TimelineMax()
      .staggerFromTo('.index-content-mouse-item', 0.3, { autoAlpha: 0 }, { autoAlpha: 1 }, 0.3)
      .staggerFromTo('.index-content-mouse-item-txt', 1, { autoAlpha: 0, y: '200' }, { autoAlpha: 1, y: '0' }, 0.5)
    new ScrollMagic.Scene({
      triggerElement: '.index-content-mouse',
      triggerHook: 0.4,
      reverse: false
    })
      .addIndicators()
      .setTween(t2)
      .addTo(controller)
    const t3 = new TimelineMax()
      .staggerFromTo('.index-content-keyboard-item', 0.5, { autoAlpha: 0, y: '200' }, { autoAlpha: 1, y: '0' }, 0.5)
    new ScrollMagic.Scene({
      triggerElement: '.index-content-keyboard',
      triggerHook: 0.4,
      reverse: false
    })
      .addIndicators()
      .setTween(t3)
      .addTo(controller)
    const t4 = new TimelineMax()
      .fromTo('.audio-item3', 0.5, { autoAlpha: 0, y: '200' }, { autoAlpha: 1, y: '0' })
      .fromTo('.audio-item2', 0.5, { autoAlpha: 0, y: '200' }, { autoAlpha: 1, y: '0' })
      .fromTo('.audio-item1', 0.5, { autoAlpha: 0, y: '200' }, { autoAlpha: 1, y: '0' })
    new ScrollMagic.Scene({
      triggerElement: '.index-content-audio',
      triggerHook: 0.4,
      reverse: false
    })
      .addIndicators()
      .setTween(t4)
      .addTo(controller)
    let circle = $('.circleBar')
    let percentData = {
      num: 0
    }
    const t5 = new TimelineMax()
      .fromTo('.index-content-progressbar-circle', 0.5, { autoAlpha: 0, y: '-200' }, { autoAlpha: 1, y: '0' })
      .fromTo('.index-content-progressbar-right', 0.5, { autoAlpha: 0, x: '200', ease: 'Power0.easeInOut' },
        {
          autoAlpha: 1,
          x: '0'
          // onComplete: function () {
          //   $('.progressbar-item1 .progress-bar').animate({
          //     width: '80%'
          //   }, 3000, 'linear')
          //   $('.progressbar-item2 .progress-bar').animate({
          //     width: '90%'
          //   }, 3000, 'linear')
          //   $('.progressbar-item3 .progress-bar').animate({
          //     width: '97%'
          //   }, 3000, 'linear')
          // }
        })
      .to('.progressbar-item1 .progress-bar', 2, { width: '80%', ease: 'Power4.easeInOut' })
      .to('.progressbar-item2 .progress-bar', 2, { width: '90%', ease: 'Power4.easeInOut' }, '-=2')
      .to('.progressbar-item3 .progress-bar', 2, { width: '97%', ease: 'Power4.easeInOut' }, '-=2')
      .to(percentData, 1, {
        num: this.circleOptions.percent,
        onUpdate: function () {
          circle.css('stroke-dashoffset', `calc(440 - (440 * ${percentData.num}) / 100)`)
        }
      }, '-=1')
      .to(percentData, 3, {
        num: this.circleOptions.percent,
        onUpdate: function () {
          $('.percentNumber').html(percentData.num.toFixed(0))
        }
      }, '-=1')
    new ScrollMagic.Scene({
      triggerElement: '.index-content-progressbar',
      triggerHook: 0.8
    })
      .addIndicators()
      .setTween(t5)
      .addTo(controller)
  }
}
</script>
<style scoped lang="scss" >
</style>
